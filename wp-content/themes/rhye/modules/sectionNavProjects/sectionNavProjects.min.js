!function(e){"use strict";window.rhye.components.SectionNavProjects=class extends window.rhye.components.ScrollAnimation{constructor({target:e,scope:t}){super({target:e,scope:t}),this.isClickedNext=!1}set(){this.$container=this.$el.find(".section-nav-projects__inner_actual"),this.$circleButton=this.$el.find(".js-circle-button"),this.$arcWrapper=this.$el.find(".circle-button__wrapper-label"),this.$wrapperScroll=this.$el.find(".section-nav-projects__wrapper-scroll-down"),this.$linkNext=this.$el.find(".section-nav-projects__link"),this.$header=this.$el.find(".section-nav-projects__header"),this.$subheading=this.$el.find(".section-nav-projects__subheading"),this.$heading=this.$el.find(".section-nav-projects__heading"),this.$nextImage=this.$el.find(".section-nav-projects__next-image"),this.nextURL=this.$linkNext.attr("href"),this.scene=null,this.scenePrefetch=null,this.prefetch=null,this._setMeasures()}run(){this.$circleButton.length?window.rhye.components.AssetsManager.loadCircleType().then((()=>{new window.rhye.components.CircleButton({target:this.$circleButton,scope:this.$scope}),this._init()})):this._init()}_init(){this._hasAnimationScene(this.$el)&&(!window.theme.elementor.isEditor&&window.theme.ajax.enabled&&window.rhye.components.AssetsManager.loadPJAX().then((()=>{this._prefetchHandler()})),this._sceneHandler())}_prefetchHandler(){this.scenePrefetch=ScrollTrigger.create({trigger:window.$pageContent,start:"top+=1000 top",once:!0,onEnter:()=>{barba.prefetch(this.nextURL),this.scene.refresh()}})}_sceneHandler(){this.scene=this._getScene(),this._bindEvents()}_setMeasures(){this.elHeight=this.$container.height(),this.offsetTop=this.$el.offset().top,this.sceneDuration=window.innerHeight}_getScene(){return this.$el.attr("data-arts-os-animation","animated"),ScrollTrigger.create({trigger:this.$el,animation:this._getSceneTimeline(),start:()=>"top top",end:()=>`+=${this.sceneDuration}`,scrub:!0,invalidateOnRefresh:!0})}_bindEvents(){e(this.$circleButton).add(this.$header).off("click").on("click",(e=>{if(window.theme.ajax.enabled){e.preventDefault();let t=0;t=void 0!==window.SB?window.SB.limit.y+this.elHeight:document.body.scrollHeight-this.elHeight,window.rhye.components.Scroll.scrollTo({x:0,y:t,duration:1200})}else this.$linkNext.get(0).click()}))}_getSceneTimeline(){const t=new gsap.timeline({onStart:()=>{this.scene.refresh(!0),this.offsetTop=e(this.$el).offset().top},onComplete:()=>{window.theme.elementor.isEditor||this.isClickedNext||(this.isClickedNext=!0,this.$linkNext.get(0).click())},onUpdate:()=>{this.scene.refresh(!0),!window.theme.elementor.isEditor&&t.progress()>.95&&(t.eventCallback("onUpdate",null),t.progress(1),t.kill())}});return t.to(this.$container,{y:`+=${this.sceneDuration}`,duration:1,ease:"none"},"start").fromTo(this.$header,{pointerEvents:"initial",autoAlpha:1,y:0},{pointerEvents:"none",duration:.75,autoAlpha:0,y:-50,ease:"linear.none"},"start").fromTo(this.$nextImage,{ease:"linear.none",autoAlpha:.1},{autoAlpha:1,duration:1},"start").to(this.$wrapperScroll,{y:-200,autoAlpha:0,duration:1},"start"),window.theme.animations.scrollDown.enabled&&t.fromTo(this.$arcWrapper,{rotation:0,transformOrigin:"center center"},{duration:1,rotation:720},"start"),t}}}(jQuery);