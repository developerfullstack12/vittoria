!function(t){"use strict";window.rhye.components.Cursor=class extends window.rhye.components.Base{constructor({scope:s,target:e,hideCursorNative:i=!1,cursorElements:r,highlightElements:o,highlightScale:a=1.3,magneticElements:n,magneticScale:h=1,magneticScaleCursorBy:l="element",factorTrailing:c=6,animDuration:u=.2,distanceArrows:d=45}){super({target:e,scope:s}),this.timeline=new gsap.timeline,this.timelineArrows=new gsap.timeline,this.timelineLoading=new gsap.timeline,this.$follower=this.$target.find(".cursor__follower"),this.$inner=this.$target.find("#inner"),this.$outer=this.$target.find("#outer"),this.$arrowUp=this.$target.find(".cursor__arrow_up"),this.$arrowDown=this.$target.find(".cursor__arrow_down"),this.$arrowLeft=this.$target.find(".cursor__arrow_left"),this.$arrowRight=this.$target.find(".cursor__arrow_right"),this.$label=this.$target.find(".cursor__label"),this.$icon=this.$target.find(".cursor__icon"),this.savedIconClasses=this.$icon.attr("class"),this.offsetTop=window.theme.elementor.isEditor?0:parseInt(window.$html.css("marginTop"),10),this.animDuration=u,this.mouseX=window.mouseX||0,this.mouseY=window.mouseY||0,this.magneticX=0,this.magneticY=0,this.scale=1,this.posX=0,this.posY=0,this.cursorCenterX=parseFloat(this.$target.innerWidth()/2),this.cursorCenterY=parseFloat(this.$target.innerHeight()/2),this.isFirstMove=!0,this.cursorElements=r,this.highlightElements=o,this.highlightScale=a,this.magneticElements=n,this.$magneticElements=t(n),this.magneticScale=h,this.magneticScaleCursorBy=l,this.factorTrailing=c,this.labels=window.theme.cursorFollower.labels,this.distanceArrows=d,this.hideCursorNative=i,this.strokeColor=this.$inner.css("stroke"),this._bindEvents()}set(){window.$body.addClass("has-cursor-follower"),gsap.set(this.$target,{display:"block"}),gsap.to(this.$target,{duration:.6,scale:1,autoAlpha:1,xPercent:0,yPercent:0})}run(){gsap.to({},{duration:.01,repeat:-1,onRepeat:()=>{const t=this.isFirstMove?1:this.factorTrailing;this.posX+=(this.mouseX-this.posX)/t,this.posY+=(this.mouseY-this.posY-this.offsetTop)/t,gsap.set(this.$target,{xPercent:0,yPercent:0,x:this.posX-this.cursorCenterX,y:this.posY-this.cursorCenterY,repeat:-1}),this.isFirstMove=!1}})}_scaleCursor(){gsap.to(this.$follower,{duration:this.animDuration,scale:this.scale,overwrite:"all"})}_highlightCursor(t=!0){gsap.to(this.$inner,{duration:this.animDuration,fill:t?this.strokeColor:"",opacity:t?.4:"",overwrite:"all"})}_bindEvents(){const s=this;this.$scope.off("mousemove mouseenter mouseleave").on("mousemove",(t=>{this.mouseX=this.magneticX||t.clientX,this.mouseY=this.magneticY||t.clientY})).on("mousemove",".pswp--zoomed-in .pswp__img",(t=>{this.setCursor({hide:!1}),this._setIcon({icon:"",hide:!0}),this.scale=1,this._scaleCursor()})).on("mousemove",".pswp--dragging .pswp__img",(t=>{this.scale=1,this._scaleCursor()})).on("mouseenter",s.cursorElements,(e=>{const i=t(e.currentTarget);this.setCursor({hide:i.data("arts-cursor-hide-native")||s.hideCursorNative}),this._setLabel({label:i.data("arts-cursor-label")||"",color:i.data("arts-cursor-color")||""}),this._setIcon({icon:i.data("arts-cursor-icon")||"",color:i.data("arts-cursor-color")||""}),this._hideArrows(),this.scale=parseFloat(i.data("arts-cursor-scale")),this._scaleCursor()})).on("mouseleave",s.cursorElements,(()=>{this.setCursor({hide:!1}),this._setLabel({label:"",hide:!0}),this._setIcon({icon:"",hide:!0}),this.scale=1,this._scaleCursor()})).on("mouseenter",s.highlightElements,(t=>{this.scale=parseFloat(this.highlightScale),this._highlightCursor(!0),this._scaleCursor()})).on("mouseleave",s.highlightElements,(t=>{this.scale=1,this._highlightCursor(!1),this._scaleCursor()})).on("mousemove",s.magneticElements,(e=>{const i=t(e.currentTarget);this._magnifyElement({element:i,event:e,distance:s.magneticDistance,scaleBy:s.magneticScaleCursorBy,scale:parseFloat(i.data("arts-cursor-scale"))||this.magneticScale})})).on("mouseleave",s.magneticElements,(s=>{this._resetMagnifiedElement(t(s.currentTarget))})).on("arts/slider/touchDown",(t=>{this.setCursor({hide:!0}),this._setLabel({label:this.labels.slider}),this._setIcon({icon:"",hide:!0}),this._revealArrows(t.detail),this.scale=1.7,this._scaleCursor()})).on("arts/slider/touchUp",(()=>{this.setCursor({hide:!1}),this._setLabel({label:this.labels.slider,hide:!0}),this._setIcon({icon:"",hide:!0}),this._hideArrows(),this.scale=1,this._scaleCursor()})).on("arts/pswp/touchDown",(t=>{this.setCursor({hide:!1}),this._setLabel({label:""}),this._setIcon({icon:"",hide:!0}),this._revealArrows(t.detail),this.scale=1,this._scaleCursor()})).on("arts/pswp/touchUp arts/pswp/close",(()=>{this.resetCursor()})).on("arts/pswp/slideChange",(()=>{this._setLabel({label:"",hide:!0}),this._setIcon({icon:"",hide:!0}),this._hideArrows()})),window.theme.cursorFollower.elements.sliderDots&&this.$scope.on("mouseenter",".slider__dot",(()=>{this.setCursor({hide:!0})})).on("mouseleave",".slider__dot",(s=>{this.setCursor({hide:!1}),this.scale=1,this._scaleCursor(),this._resetMagnifiedElement(t(s.currentTarget))})).on("mousemove",".slider__dot",(e=>{const i=t(e.currentTarget);this.scale=.5,this._scaleCursor(),this._magnifyElement({element:i,event:e,distance:s.magneticDistance,scaleBy:s.magneticScaleCursorBy,scale:.5})})),window.theme.cursorFollower.elements.socialItems&&this.$scope.on("mouseenter",".social__item",(()=>{this.setCursor({hide:!0})})).on("mouseleave",".social__item",(s=>{this.setCursor({hide:!1}),this.scale=1,this._scaleCursor(),this._resetMagnifiedElement(t(s.currentTarget))})).on("mousemove",".social__item",(e=>{const i=t(e.currentTarget);this.scale=.8,this._scaleCursor(),this._magnifyElement({element:i,event:e,distance:s.magneticDistance,scaleBy:s.magneticScaleCursorBy,scale:.8})})),window.theme.cursorFollower.elements.blogPagination&&this.$scope.on("mouseenter","a.page-numbers",(()=>{this.setCursor({hide:!0})})).on("mouseleave","a.page-numbers",(s=>{this.setCursor({hide:!1}),this.scale=1,this._scaleCursor(),this._resetMagnifiedElement(t(s.currentTarget))})).on("mousemove","a.page-numbers",(e=>{const i=t(e.currentTarget);this.scale=.8,this._scaleCursor(),this._magnifyElement({element:i,event:e,distance:s.magneticDistance,scaleBy:s.magneticScaleCursorBy,scale:.8})})),window.$window.on("arts/barba/transition/start",(()=>{this._drawLoading(),this.resetCursor()})).on("arts/barba/transition/end",(()=>{this._finishLoading(),this.resetCursor()}))}_drawLoading(){this.timelineLoading.clear().fromTo(this.$outer,{autoAlpha:1,drawSVG:"0%",rotate:0},{drawSVG:"100%",ease:"expo.inOut",transformOrigin:"center center",rotate:180,duration:2.7})}_finishLoading(){this.timelineLoading.to(this.$outer,{drawSVG:"100%",ease:"power3.out",transformOrigin:"center center",rotate:180,duration:.6,overwrite:"all",autoAlpha:0}).set(this.$outer,{drawSVG:"0%",rotate:0})}_setLabel({label:t="",color:s="",hide:e=!1}){this.$label.html(t),!0===e?gsap.to(this.$label,{duration:this.animDuration,autoAlpha:0,y:-20,clearProps:"color"}):gsap.to(this.$label,{duration:this.animDuration,autoAlpha:1,y:0,color:s})}_setIcon({icon:t="",color:s="",hide:e=!1}){!0===e?(this.$icon.attr("class",this.savedIconClasses),gsap.to(this.$icon,{duration:this.animDuration,autoAlpha:0,y:-20,clearProps:"color"})):(this.$icon.addClass(t),gsap.to(this.$icon,{duration:this.animDuration,autoAlpha:1,y:0,color:s}))}_revealArrows({direction:t="horizontal"}){"horizontal"===t&&this.timelineArrows.clear().add([gsap.to(this.$arrowLeft,{duration:this.animDuration,autoAlpha:1,x:-this.distanceArrows}),gsap.to(this.$arrowRight,{duration:this.animDuration,autoAlpha:1,x:this.distanceArrows})]),"vertical"===t&&this.timelineArrows.clear().add([gsap.to(this.$arrowUp,{duration:this.animDuration,autoAlpha:1,y:-this.distanceArrows}),gsap.to(this.$arrowDown,{duration:this.animDuration,autoAlpha:1,y:this.distanceArrows})]),"all"===t&&this.timelineArrows.clear().add([gsap.to(this.$arrowUp,{duration:this.animDuration,autoAlpha:1,y:-this.distanceArrows/2}),gsap.to(this.$arrowDown,{duration:this.animDuration,autoAlpha:1,y:this.distanceArrows/2}),gsap.to(this.$arrowLeft,{duration:this.animDuration,autoAlpha:1,x:-this.distanceArrows/2}),gsap.to(this.$arrowRight,{duration:this.animDuration,autoAlpha:1,x:this.distanceArrows/2})])}_hideArrows(){this.timelineArrows.clear().to([this.$arrowUp,this.$arrowDown,this.$arrowLeft,this.$arrowRight],{duration:this.animDuration,autoAlpha:0,x:0,y:0})}_calcDistance({centerX:t,centerY:s,mouseX:e,mouseY:i}){return Math.floor(Math.sqrt(Math.pow(e-t,2)+Math.pow(i-s,2)))}_resetMagnifiedElement(t){this.magneticX=0,this.magneticY=0,t&&t.length&&gsap.to(t,{duration:.4,y:0,x:0})}_magnifyElement({element:t,event:s,distance:e,scale:i,scaleBy:r}){const{top:o,left:a,width:n,height:h}=t.get(0).getBoundingClientRect(),l=a+n/2,c=o+h/2,u=-.5*Math.floor(l-s.clientX),d=-.5*Math.floor(c-s.clientY);this.magneticX=l,this.magneticY=c,this.scale="element"===r?Math.max(n,h)/this.cursorCenterX*i:r*i,gsap.to(t,{duration:.2,y:d,x:u,overwrite:"all"})}setCursor({hide:t=!1,loading:s=!1}){!0!==t||window.$body.hasClass("cursor-none")?window.$body.removeClass("cursor-none"):window.$body.addClass("cursor-none"),!0!==s||window.$body.hasClass("cursor-progress")?window.$body.removeClass("cursor-progress"):window.$body.addClass("cursor-progress")}resetCursor(){this.setCursor({hide:!1}),this._setLabel({label:"",hide:!0}),this._setIcon({icon:"",hide:!0}),this._hideArrows(),this.scale=1,this._scaleCursor(),this._highlightCursor(!1)}}}(jQuery);