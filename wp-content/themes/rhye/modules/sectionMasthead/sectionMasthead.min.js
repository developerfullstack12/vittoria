!function(t){"use strict";window.rhye.components.SectionMasthead=class extends window.rhye.components.ScrollAnimation{constructor({target:t,scope:e}){super({target:t,scope:e})}run(){this._fixedMasthead(),this._hasAnimationScene(this.$el)?(this.setAnimation(),this.animate()):(this.$wrapperSD=this.$el.find(".section-masthead__wrapper-scroll-down"),this.$circleButton=this.$wrapperSD.find(".js-circle-button:not(.js-circle-button_curved)"),this.$circleButton.length&&window.rhye.components.AssetsManager.loadCircleType().then((()=>{new window.rhye.components.CircleButton({target:this.$circleButton})})))}_fixedMasthead(){const t=this.$el.filter(".section-masthead_fixed"),e=t.attr("data-arst-scroll-fixed-speed"),i=e?e*window.innerHeight:.4*window.innerHeight;if(t.length){const e=new gsap.timeline,a=t.find(".section-masthead__background");e.fromTo(t,{autoAlpha:1},{autoAlpha:0},"start"),a.length&&!window.rhye.functions.isBrowserFirefox()&&e.fromTo(a,{scale:1,transformOrigin:"center center"},{scale:1.1,transformOrigin:"center center",overwrite:"all"},"start"),ScrollTrigger.create({pin:void 0===window.SB,anticipatePin:1,trigger:t,animation:e,scrub:!0,start:"top top",end:i})}}setAnimation(){this.$subheading=this.$el.find(".section-masthead__subheading"),this.$heading=this.$el.find(".section-masthead__heading"),this.$text=this.$el.find(".section-masthead__text"),this.$bgWrapper=this.$el.find(".section-image__wrapper"),this.$itemsMeta=this.$el.find(".section-masthead__meta"),this.$headline=this.$el.find(".section__headline"),this.$background=this.$el.find(".section-masthead__background:not(.js-cancel-animation)").find(".section-image__wrapper"),this.$bg=this.$el.find(".section-masthead__bg"),this.$wrapperButton=this.$el.find(".section-masthead__wrapper-button"),this.$wrapperSD=this.$el.find(".section-masthead__wrapper-scroll-down"),this.$circleButton=this.$wrapperSD.find(".js-circle-button:not(.js-circle-button_curved)"),this.$overlay=this.$el.find(".section-masthead__background.js-cancel-animation").find(".section-masthead__overlay"),this.$mask=this.$el.find(".mask-reveal"),this.$maskLayer1=this.$el.find(".mask-reveal__layer-1"),this.$maskLayer2=this.$el.find(".mask-reveal__layer-2"),gsap.set(this.$bg,{scaleY:0,transformOrigin:"bottom center"}),gsap.set(this.$overlay,{autoAlpha:0}),gsap.set(this.$headline,{scaleX:0}),gsap.set(this.$wrapperButton,{y:30,autoAlpha:0}),gsap.set(this.$wrapperSD,{y:30,autoAlpha:0}),gsap.effects.hideChars(this.$el,{x:0,y:"100%",autoAlpha:1,duration:0}),gsap.set(this.$el.find(".split-text__line"),{autoAlpha:1}),this.$circleButton.length&&window.rhye.components.AssetsManager.loadCircleType(),this.$background.length&&this.$mask.length?gsap.effects.setMask(this.$mask,{direction:"down"}):gsap.set(this.$background,{scale:window.rhye.functions.isBrowserFirefox()?1:1.05,transformOrigin:"center center",autoAlpha:0})}animate(){const t=new gsap.timeline,e=this.$el.filter("[data-arts-os-animation]"),i=window.rhye.functions.getStaggerFrom(e);this.$bg.length&&this.$background.length&&t.to(this.$bg,{duration:1,scaleY:1,transformOrigin:"top center",ease:"expo.inOut"},"start").to(this.$background,{duration:2.4,autoAlpha:1,scale:1},"start"),this.$bg.length&&!this.$background.length&&t.to(this.$bg,{duration:1,scaleY:1,transformOrigin:"top center",ease:"expo.inOut"},"start"),this.$bg.length||this.$mask.length||!this.$background.length||t.to(this.$background,{duration:2.4,autoAlpha:1,scale:1},"<0.2"),this.$background.length&&this.$mask.length&&t.animateMask(this.$mask,{},"<0.2"),this.$overlay.length&&t.to(this.$overlay,{autoAlpha:1,duration:1.2},"<0.2"),t.animateChars(e,{duration:1.2,stagger:window.rhye.functions.distributeByPosition({from:"center"===i?"start":i,amount:.2})},"<0.2"),t.animateWords(e,{ease:"power3.out",duration:1.2,onStart:()=>{this.$itemsMeta.addClass("animated")}},"<0.2").animateLines(e,{ease:"power3.out",duration:1.2,stagger:.06},"<0.2").to(this.$wrapperButton,{duration:.6,y:0,autoAlpha:1},"<0.2").to(this.$wrapperSD,{duration:.6,y:0,autoAlpha:1,onStart:()=>{this.$circleButton.length&&window.rhye.components.AssetsManager.loadCircleType().then((()=>{new window.rhye.components.CircleButton({target:this.$circleButton})}))}},"<0.2").animateHeadline(this.$headline,{duration:.6},"0.4"),this._createScene({element:e,timeline:t})}}}(jQuery);