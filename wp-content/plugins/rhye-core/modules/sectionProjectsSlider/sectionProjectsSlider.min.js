!function(e){"use strict";window.rhye.components.SectionProjectsSlider=class extends window.rhye.components.ScrollAnimation{constructor({target:e,scope:t}){super({target:e,scope:t})}run(e){this._set(e),this._init(e)}_set(e){this.$slider=e.find(".js-slider-fullscreen-projects"),this.$sliderImg=e.find(".slider-fullscreen-projects__images"),this.$footer=e.find(".slider-fullscreen-projects__footer"),this.$canvasWrapper=e.find(".slider__wrapper-canvas:not(.slider__wrapper-canvas_no-zoom)"),this.$overlay=e.find(".slider__overlay"),this.$arrowLeft=e.find(".slider__arrow_left .arrow-left"),this.$arrowRight=e.find(".slider__arrow_right .arrow-right"),this.$counter=e.find(".slider__wrapper-counter, .slider__wrapper-counter-big"),this.$circle=e.find(".slider__circle-geometry"),this.$activeSlide=this.$slider.find(".swiper-slide").eq(0),this.$activeHeading=this.$activeSlide.find(".slider__heading"),this.$activeSubheading=this.$activeSlide.find(".slider__subheading"),this.$activeDescription=this.$activeSlide.find(".slider__text"),this.$activeButton=this.$activeSlide.find(".slider__wrapper-button"),this.$activeBg=this.$sliderImg.find(".slider__bg").eq(0),this._hasAnimationScene(e)&&(gsap.set(this.$canvasWrapper,{scale:window.rhye.functions.isBrowserFirefox()?1:1.1,autoAlpha:0,transformOrigin:"center center"}),gsap.set(this.$footer,{autoAlpha:0,y:"100%"}),gsap.set(this.$arrowLeft,{x:-50,autoAlpha:0}),gsap.set(this.$arrowRight,{x:50,autoAlpha:0}),gsap.set(this.$counter,{autoAlpha:0}),gsap.effects.hideChars(this.$activeHeading,{x:50,y:0,duration:0}),gsap.effects.hideChars(this.$activeSubheading,{x:25,y:0,duration:0}),gsap.effects.hideLines(this.$activeDescription,{y:"100%",duration:0}),gsap.set(this.$activeButton,{y:50,autoAlpha:0}),gsap.set(this.$activeBg,{scale:window.rhye.functions.isBrowserFirefox()?1:1.1,autoAlpha:0,transformOrigin:"center center",transition:"none"}),gsap.set(this.$circle,{scale:window.rhye.functions.isBrowserFirefox()?1:2,autoAlpha:0,transformOrigin:"center center"}))}_init(e){const t=new window.rhye.components.SliderFullscreenProjects({target:this.$slider}),i=new gsap.timeline({paused:!0,onComplete:()=>{t.sliderImg&&t.sliderImg.params.autoplay.enabled&&!t._isDistortionEffect()&&t.sliderImg.autoplay.start()}}),s=window.rhye.functions.getStaggerFrom(this.$activeSlide);this._hasAnimationScene(e)?(i.add([gsap.to(this.$canvasWrapper,{scale:1,autoAlpha:1,ease:"power3.out",duration:2.4,transformOrigin:"center center"}),gsap.to(this.$activeBg,{scale:1,autoAlpha:1,ease:"power3.out",duration:2.4,transformOrigin:"center center",transition:"none"}),gsap.to(this.$circle,{scale:1,autoAlpha:1,ease:"power3.out",duration:2.4,transformOrigin:"center center"})]).animateChars(this.$activeHeading,{duration:1.2,stagger:window.rhye.functions.distributeByPosition({from:"center"===s?"start":s,amount:.4}),ease:"power3.out"},"-=2.0").add([gsap.effects.animateChars(this.$activeSubheading,{duration:1.2,stagger:window.rhye.functions.distributeByPosition({from:"center"===s?"start":s,amount:.4}),ease:"power3.out"}),gsap.effects.animateLines(this.$activeDescription,{duration:1.2,ease:"power3.out",stagger:{from:"start",amount:.08}}),gsap.effects.animateLines(this.$slider.find(".slider__wrapper-button"),{excludeEl:".js-change-text-hover__hover .split-text__line"})],"-=1.2").to(this.$activeButton,{duration:1.2,ease:"power3.out",y:0,autoAlpha:1},"-=1.2").add([gsap.to(this.$footer,{duration:1.2,autoAlpha:1,y:"0%"}),gsap.to([this.$arrowLeft,this.$arrowRight,this.$counter],{autoAlpha:1,duration:1.2,x:"0%",y:"0%",stagger:.1})],"-=1.2").play(),this._createScene({element:e,timeline:i})):(i.to(null,{duration:1}).play(),this._createScene({element:e,timeline:i,reveal:!1}))}},window.rhye.components.SliderFullscreenProjects=class extends window.rhye.components.Slider{constructor({scope:e,target:t}){super({target:t,scope:e})}set(){this.$sliderImg=this.$target.find(".js-slider-fullscreen-projects__images"),this.$sliderContent=this.$target.find(".js-slider-fullscreen-projects__content"),this.$sliderFooter=this.$target.find(".js-slider-fullscreen-projects__footer"),this.$canvas=this.$target.find(".slider__canvas"),this.$canvasWrapper=this.$target.find(".slider__wrapper-canvas-inner:not(.slider__wrapper-canvas-inner_no-zoom)"),this.$heading=this.$target.find(".slider__heading"),this.$subheading=this.$target.find(".slider__subheading"),this.$description=this.$target.find(".slider__text"),this.$link=this.$target.find(".slider__wrapper-button"),this.$images=this.$sliderImg.find(".slider__images-slide-inner"),this.sliderSpeed=this.$sliderImg.data("speed")||600,this.isSliderReveal=this.$target.hasClass("js-slider-reveal"),this.revealClass="slider-fullscreen-projects__images_reveal",this.dragMouse=this.$sliderImg.data("drag-mouse")||!1,this.dragCursor=this.$sliderImg.data("drag-cursor")||!1,this.dragClass=this.$sliderImg.data("drag-class")||"",this.transitionEffect=this.$sliderImg.data("transition-effect"),this.effectIntensity=this.$sliderImg.data("transition-effect-intensity")||.2,this.displacementImage=this.$sliderImg.data("transition-displacement-img")||"",this.aspectRatio=this.$sliderImg.data("aspect-ratio")||1.5,this.retinaEnabled=this.$sliderImg.data("transition-retina-enabled")||!1,this.$counterCurrent=this.$target.find(".js-slider-fullscreen-projects__counter-current"),this.$counterTotal=this.$target.find(".js-slider-fullscreen-projects__counter-total"),this.counterStyle=this.$sliderImg.data("counter-style")||"roman",this.counterZeros=this.$sliderImg.data("counter-add-zeros")||0,this.$sliderCategories=this.$target.find(".js-slider__categories"),this.$sliderDots=this.$target.find(".js-slider__dots"),this.prefetcActiveSlideTransition=this.$sliderImg.data("prefetch-active-slide-transition")||!1}run(){this.sliderImg=this._getSliderImages(),this.sliderContent=this._getSliderContent(),this.sliderCounter=this._getSliderCounter({slider:this.sliderImg,counter:{current:this.$counterCurrent,total:this.$counterTotal,style:this.counterStyle,zeros:this.counterZeros}}),this.sliderFooter=this._getSliderFooter(),this._isDistortionEffect()&&(this.distortionEffect=this._setSliderDistortionEffect()),this.sliderImg.controller.control.push(this.sliderContent),this.sliderContent.controller.control.push(this.sliderImg),this._setSliderTextTransitions(),this.dragCursor&&this._emitDragEvents({slider:this.sliderImg,target:document,customClass:this.dragClass}),this.isSliderReveal&&this._setSliderReveal(),this.$sliderDots.length&&this._getSliderDots({slider:this.sliderImg,container:this.$sliderDots}),this.$sliderCategories.length&&this._getCategoriesSlider(),this.prefetcActiveSlideTransition&&!window.theme.elementor.isEditor&&window.theme.ajax.enabled&&window.rhye.components.AssetsManager.loadPJAX().then((()=>{this._prefetchActiveSlideTransition()}))}_getSliderImages(){const e=this;if(!this.$sliderImg.length)return!1;let t="slide";return(this.isSliderReveal||"fade"===this.transitionEffect)&&(t="fade"),new Swiper(this.$sliderImg.get(0),{simulateTouch:!!this.dragMouse,direction:this.$sliderImg.data("direction")||"horizontal",slidesPerView:this.$sliderImg.data("slides-per-view")||1,touchRatio:this._isDistortionEffect()?1:this.$sliderImg.data("touch-ratio"),effect:t,preventInteractionOnTransition:!!this._isDistortionEffect(),allowTouchMove:!0,fadeEffect:{crossFade:!0},centeredSlides:!0,parallax:!this._isDistortionEffect(),speed:this.sliderSpeed,preloadImages:!1,updateOnImagesReady:!0,grabCursor:!0,lazy:!this._isDistortionEffect()&&{loadPrevNextAmount:3,loadPrevNext:!0,loadOnTransitionStart:!0},slideToClickedSlide:!0,keyboard:!!this.$sliderImg.data("keyboard-enabled")&&{enabled:!0,onlyInViewport:!0},autoplay:{disableOnInteraction:!1,enabled:this.$sliderImg.data("autoplay-enabled")||!1,delay:this.$sliderImg.data("autoplay-delay")||6e3},mousewheel:!!this.$sliderImg.data("mousewheel-enabled")&&{eventsTarged:this.$target.get(0),eventsTarget:this.$target.get(0),releaseOnEdges:!0},pagination:{el:this.$el.find(".js-slider__dots").get(0),type:"bullets",bulletElement:"div",clickable:!0,bulletClass:"slider__dot",bulletActiveClass:"slider__dot_active"},navigation:{nextEl:this.$el.find(".js-slider__arrow-next").get(0),prevEl:this.$el.find(".js-slider__arrow-prev").get(0)},controller:{control:[],by:"container"},on:{init:function(){e._pauseAutoplay(this)}}})}_getSliderContent(){return!!this.$sliderContent.length&&new Swiper(this.$sliderContent.get(0),{centeredSlides:!0,speed:this.sliderSpeed,autoHeight:!0,effect:"fade",fadeEffect:{crossFade:!0},virtualTranslate:!0,allowTouchMove:!1,touchRatio:this._isDistortionEffect()?1:this.$sliderImg.data("touch-ratio"),watchSlidesProgress:!0,controller:{control:[],by:"container"}})}_getSliderFooter(){if(this.$sliderFooter.length){const e=new Swiper(this.$sliderFooter.get(0),{centeredSlides:!0,speed:this.sliderSpeed,effect:"fade",fadeEffect:{crossFade:!0},allowTouchMove:!1});this.sliderImg.controller.control.push(e)}}_setSliderReveal(){return new window.rhye.components.SliderHoverBackgrounds({target:this.$sliderImg,scope:this.$scope,sliderImg:this.sliderImg,images:this.$images,links:this.$target.find("a"),hoverClass:this.revealClass})}_getCategoriesSlider(){return new window.rhye.components.SliderCategories({target:this.$sliderCategories,scope:this.$scope,sliderContent:this.sliderContent,links:this.$sliderContent.find("a")})}_setSliderDistortionEffect(){if(this._initSliderDistortionEffect(),this.isOffscreenCanvasSupported())this._getSliderDistortionEffectWorker();else{if("undefined"!=typeof THREE&&void 0!==window.rhye.components.EffectDistortion)return this.sliderImg&&this.sliderImg.params.autoplay.enabled&&this.sliderImg.autoplay.start(),this._getSliderDistortionEffect();window.rhye.components.AssetsManager.loadThree().then((()=>(this.sliderImg&&this.sliderImg.params.autoplay.enabled&&this.sliderImg.autoplay.start(),this._getSliderDistortionEffect())))}}_initSliderDistortionEffect(){this.sliderImg.params.preloadImages=!1,this.sliderImg.params.lazy=!1,this.sliderImg.params.effect="fade",this.sliderImg.params.fadeEffect.crossFade=!0,this.sliderImg&&this.sliderImg.params.autoplay.enabled&&this.sliderImg.autoplay.stop()}_getSliderDistortionEffectWorker(){return new window.rhye.components.SliderDistortionEffectWorker({scope:this.$scope,slider:this.sliderImg,target:this.$sliderImg,intensity:this.effectIntensity,aspectRatio:this.aspectRatio,canvas:this.$canvas,canvasWrapper:this.$canvasWrapper,displacementImage:this.displacementImage,retinaEnabled:this.retinaEnabled})}_getSliderDistortionEffect(){return new window.rhye.components.SliderDistortionEffect({scope:this.$scope,slider:this.sliderImg,target:this.$sliderImg,intensity:this.effectIntensity,aspectRatio:this.aspectRatio,canvas:this.$canvas,canvasWrapper:this.$canvasWrapper,displacementImage:this.displacementImage,retinaEnabled:this.retinaEnabled})}_setSliderTextTransitions(){return new window.rhye.components.SliderTextTransitions({slider:this.sliderContent,direction:this.sliderImg.params.direction,offset:50,heading:this.$heading,subheading:this.$subheading,description:this.$description,link:this.$link})}_isDistortionEffect(){return"distortion"===this.transitionEffect}_prefetchActiveSlideTransition(){this.sliderImg.on("slideChangeTransitionStart",(()=>{const e=this.$target.find(".swiper-slide-active a");e.length&&e.each((function(){try{barba.prefetch(this.href)}catch(e){console.warn(`Barba.js: Can't prefetch ${this.href}`)}}))}))}isOffscreenCanvasSupported(){return window.theme.offscreenCanvas&&!window.theme.elementor.isEditor&&HTMLCanvasElement.prototype.transferControlToOffscreen}}}(jQuery);